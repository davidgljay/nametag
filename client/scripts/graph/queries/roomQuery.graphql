#import "../fragments/nametagView.graphql"

query roomQuery($id: ID!){
  room(id:$id) {
    id
    title
    image
    description
    norms
    nametagCount
    welcome
    topic
    templates {
      id
      image
      name
      description
    }
    modOnlyDMs
    mod {
      id
      name
      bio
      image
      badges {
        ...badgeView
      }
    }
    nametags {
      ...nametagView
    }
    messages {
      id
      text
      createdAt
      saved
      author {
        id
        image
        name
      }
      reactions {
        emoji
        nametagId
      }
      recipient {
        id
        image
        name
      }
    }
  }
  me {
    id
    images
    displayNames
    nametags {
      id
      mentions
      latestVisit
      room {
        id
        title
        image
        latestMessage
        closedAt
      }
    }
    badges {
      ...badgeView
    }
  }
}
